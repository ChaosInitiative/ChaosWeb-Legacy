@using ChaosInitiative.Web.ControlPanel.Model
@using ChaosInitiative.Web.ControlPanel.Services
@using Radzen
@using Radzen.Blazor

@inject DialogService DialogService
@inject IGitHubService GitHubService

<div class="row">
    <div class="col-4">
        <RadzenLabel Text="Game Name"/>
        <small class="d-block">(3+ characters)</small>
    </div>
    <div class="col">
        <RadzenTextBox Placeholder="Game's Display Name"
                       Name="GameName"
                       @bind-Value="@_game.Name"/>
        <RadzenLengthValidator Component="GameName" Min="3" Text="Game name should be at least 3 characters"/>
    </div>
</div>

<div>
    <RadzenColorPicker @bind-Value="@_game.HexColor"/>
</div>

<div>
    <RadzenDropDown TValue="string"
                    Data="@Game.LegalRepositoryOwners"
                    @bind-Value="@_game.RepositoryOwner"/>
</div>

<div>
    <RadzenDropDown TValue="string" 
                    Data="@GitHubService.GetOrgRepositories(_game.RepositoryOwner)"
                    @bind-Value="@_game.RepositoryName"
                    Placeholder="Repository Name"/>
</div>


@code {

    Game _game = new Game();

}